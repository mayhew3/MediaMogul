<div class="modal-header">
  <h1 ng-bind="ctrl.series.title"></h1>
</div>

<div class="modal-body clearfix">

  <div class="col-lg-3">
    <img class="img-rounded"
         ng-src="{{ctrl.series.posterResolved}}"
         err-src="images/GenericSeries.gif"
         width="100%"
         ng-click="ctrl.openChangePoster()"/>
  </div>

  <div class="col-lg-9">

    <div class="row">

      <!-- Series scores -->

      <div class="col-lg-4">

        <div class="scoreOuterBox row">
          <div class="scoreTitle col-lg-6">
            <span>Metacritic:</span>
          </div>
          <div class="scoreBox col-lg-6"
               ng-style="ctrl.colorStyle(ctrl.series.metacritic)">
            <span ng-bind="ctrl.series.metacritic === null ? '--' : ctrl.series.metacritic"></span>
          </div>
        </div>

        <form class="bs-component"
              id="seriesFields"
              name="seriesFields"
              ng-submit="ctrl.rateMyShow()"
              novalidate
              ng-show="ctrl.owned">
          <div class="scoreOuterBox row">
            <div class="scoreTitle col-lg-6">
              <span>Rating:</span>
            </div>
            <div class="ratingInputBox input-group"
                 ng-class="ctrl.ratingInputClass()">
              <input type="number"
                     class="form-control ratingInput"
                     id="myRatingInput"
                     name="myRatingInput"
                     min="1"
                     max="100"
                     ng-model="ctrl.interfaceFields.my_rating"/>
              <span class="input-group-btn">
              <button class="btn btn-default ratingSaveButton"
                      type="submit"
                      ng-disabled="seriesFields.$invalid"
                      ng-show="ctrl.ratingIsChanged()">Save</button>
            </span>
            </div>
          </div>
        </form>

        <div class="scoreOuterBox row" ng-show="ctrl.owned">
          <div class="scoreTitle col-lg-6">
            <span>Dynamic:</span>
          </div>
          <div class="scoreBox col-lg-6"
               ng-style="ctrl.colorStyle(ctrl.series.dynamic_rating)">
            <span ng-bind="ctrl.series.dynamic_rating === null ? '--' : ctrl.series.dynamic_rating|number:1"></span>
          </div>
        </div>

      </div>

      <!-- Ownership status -->

      <div class="col-lg-4" ng-show="ctrl.owned">
        <div style="margin-bottom: 5px">
          <button type="button"
                  class="btn ownershipButton"
                  ng-class="ctrl.getPinnedClass()"
                  ng-click="ctrl.changeTier(1)">Pinned</button>
        </div>
        <div style="margin-bottom: 5px">
          <button type="button"
                  class="btn ownershipButton"
                  ng-class="ctrl.getBacklogClass()"
                  ng-click="ctrl.changeTier(2)">Backlog</button>
        </div>
        <div style="margin-bottom: 5px">
          <button type="button"
                  class="btn ownershipButton"
                  ng-class="ctrl.getRemovedClass()"
                  ng-click="ctrl.removeFromMyShows()">Removed</button>
        </div>
      </div>

    </div>

    <div class="row" style="margin-top: 50px; text-align: right" ng-show="ctrl.owned">
      Season:
      <label ng-repeat="season in ctrl.seasonLabels"
             ng-class="ctrl.getSeasonButtonClass(season)"
             ng-model="ctrl.selectedSeason"
             style="font-size: x-large"
             uib-btn-radio="season">
        <span ng-bind="season"></span>
      </label>
    </div>



  </div>

  <table class="table table-striped table-hover" ng-show="ctrl.owned">
    <thead>
    <th>Episode</th>
    <th>Title</th>
    <th>Date</th>
    <th>Watched</th>
    <th>Rating</th>
    </thead>
    <tr data-ng-repeat="episode in ctrl.episodes |
                          filter:ctrl.episodeFilter |
                          orderBy:['tvdb_episode_number']"
      ng-click="ctrl.openEpisodeDetail(episode)"
      ng-class="ctrl.rowClass(episode)">
      <td ng-bind="episode.episode_number"></td>
      <td ng-bind="episode.title" class="episodeDescription"></td>
      <td ng-bind="episode.air_time|date:ctrl.getDateFormat(episode.air_time):'America/Los_Angeles'"></td>
      <td>
        <span ng-bind="ctrl.getWatchedDateOrWatched(episode)"></span>
      </td>
      <td ng-style="episode.colorStyle()" width="70">
        <span ng-bind="ctrl.getRating(episode)"></span>
      </td>
    </tr>
  </table>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ctrl.ok()">Close</button>
</div>