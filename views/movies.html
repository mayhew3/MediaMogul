<!DOCTYPE html>
<html ng-app="mediaMogulApp">
  <head>
    <title>Movies</title>
    <link rel="stylesheet" type="text/css"
          href="stylesheets/bootstrap.min.css" />
  </head>
  <body>

  <div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-collapse collapse" id="navbar-main">
        <ul class="nav navbar-nav">
          <li>
            <a href="/shows">Series</a>
          </li>
          <li>
            <a href="/movies">Movies</a>
          </li>
          <li>
            <a href="/errors">Errors</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container">
    <div ng-controller="movieController as ctrl">

      <div class="page-header" id="banner">
        <div class="row">
          <div class="col-lg-12">
            <h1>Movie List</h1>
            <p class="lead">All the movies on the TiVo.</p>
          </div>
        </div>
      </div>

      <div class="bs-docs-section clearfix">
        <div class="col-lg-12">
          <div id="episodeFilters">
              <button type="button"
                     class="btn btn-primary"
                     btn-checkbox
                     btn-checkbox-true="true"
                     btn-checkbox-false="false"
                     ng-model="ctrl.unwatchedOnly">Unwatched Only</button>
          </div>
          <div id="episodesContainer">
            <table class="table table-striped table-hover ">
              <thead>
              <th>Title</th>
              <th>Tier</th>
              <th>#</th>
              <th>Episode</th>
              <th>Date</th>
              <th>Time</th>
              <th>Watched</th>
              </thead>
              <tr data-ng-repeat="episode in ctrl.episodes |
                          filter:ctrl.episodeFilter |
                          orderBy:['Tier', '-ShowingStartTime'] |
                          limitTo:50">
                <td ng-bind="episode.Title"></td>
                <td ng-bind="episode.Tier"></td>
                <td ng-bind="episode.EpisodeNumber"></td>
                <td ng-bind="episode.EpisodeTitle" class="episodeDescription"></td>
                <td ng-bind="episode.ShowingStartTime|date:'EEE MM/d'"></td>
                <td ng-bind="episode.ShowingStartTime|date:'H:mm'"></td>
                <td>
                  <button type="button"
                          class="btn btn-success btn-sm"
                          btn-checkbox
                          btn-checkbox-true="true"
                          btn-checkbox-false="false"
                          ng-hide="episode.Watched"
                          ng-model="episode.Watched"
                          ng-change="ctrl.change(episode)">Mark Watched</button>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.js"></script>
  <script src="javascripts/ui-bootstrap-tpls-0.12.0.min.js"></script>
  <script src="javascripts/angular_app.js"></script>
  </body>
</html>
